<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="robots" content="noindex">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR code generate - Mindedge</title>
    <style>body {
        background: #fff;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    }</style>
</head>
<body style="width: 768px;margin:0 auto; min-height: 100vh; display: flex; flex-direction: column; justify-content: center;">
    <h1 align="center" style="color:#0C3159;">ME QR code gen</h1>
    <p align="center" style="color:#0C3159;">พิมพ์หรือก็อบปี้วางลิงค์ที่ต้องการสร้าง QR Code จากนั้นกดปุ่มดาวน์โหลดไปใช้งานได้เลย</p>
    <input placeholder="พิมพ์ลิงค์" id="text" type="text" style="width:80%; margin: 0 auto; padding: 8px;" /><br />
    <div id="qrcode" style="width:512px; height:auto; margin:0 auto;"></div>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <script>
        (function($){
            var qrcode = new QRCode(document.getElementById("qrcode"), {
                width : 512,
                height : 512,
                orrectLevel : QRCode.CorrectLevel.H
            });

            $('#text').on('blur', function(){
                if($(this).val() !== ''){
                    $('#download').remove();
                    qrcode.makeCode($(this).val());
                    setTimeout(function(){
                        $('#qrcode').append($(`<a id="download" href="${$('#qrcode img').prop('src')}" download="${new Date().getMilliseconds()}.png" style="padding: 16px; display:flex; justify-content: center;">ดาวน์โหลด</a>`));
                    }, 1000);
                }else{
                    $('#download').remove();
                    $('#qrcode img').css('display', 'none');
                }
            });
        })(jQuery);
    </script>
</body>
</html>
